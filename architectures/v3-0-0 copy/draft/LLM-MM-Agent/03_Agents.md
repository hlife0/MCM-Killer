# LLM-MM-Agent: Agent 模块

> Path: `clean version/LLM-MM-Agent/MMAgent/agent/`

---

### `__init__.py`
包初始化文件。

---

### `base_agent.py`
所有Agent的基类，提供通用功能：LLM调用接口、提示词管理、输出解析、错误处理。定义Agent的标准行为模式，包括消息处理、状态管理、结果返回。

---

### `coordinator.py`
DAG任务调度器，管理子任务之间的依赖关系。构建依赖图、进行拓扑排序确定执行顺序、处理并行任务、检测循环依赖。实现智能的任务调度和执行编排。

---

### `create_charts.py`
图表生成管道，将图表描述转换为可执行代码，再执行代码生成可视化图片。支持多种图表类型（折线图、散点图、热力图等），处理图表样式、保存格式。包含描述→代码→图表的完整转换流程。

---

### `data_description.py`
数据描述Agent，处理数据描述和预处理任务。生成数据概览、统计摘要、分布分析。识别数据类型、缺失值、异常值，为后续分析提供基础。

---

### `debug_agent.py`
调试Agent，诊断管道问题、追踪错误来源、收集调试信息。提供错误定位、日志分析、建议修复方案。是系统故障排除的主要工具。

---

### `problem_analysis.py`
问题分析Agent，将复杂问题分解为可管理的子任务。识别问题类型、约束条件、目标要求。采用actor-critic模式迭代优化分解结果，最终输出结构化的子任务列表。

---

### `problem_decompose.py`
问题分解工具，提供问题分解的辅助函数和工具方法。支持分治策略、依赖分析、任务优先级排序。

---

### `retrieve_method.py`
方法检索器，从HMML知识库中检索合适的数学建模方法。基于嵌入相似度匹配，支持问题感知检索（根据问题类型）和解决方案感知检索（根据已有方案）。返回top_method_num个候选方法。

---

### `task_solving.py`
TaskSolver Agent，编排完整的任务求解流程：分析→建模→编码→编译。采用SafePlaceholder模式防止模板格式化崩溃，管理子任务的执行顺序，处理依赖关系，聚合最终结果。是管道执行的核心协调器。

---

**文档版本**: v1.0
