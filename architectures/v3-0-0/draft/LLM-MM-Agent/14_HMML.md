# LLM-MM-Agent: HMML 数学建模知识库

> 绝对路径：`D:/migration/MCM-Killer/architectures/v3-0-0/draft/LLM-MM-Agent/05_HMML.md`
> **重要程度**: ⭐⭐⭐⭐⭐⭐ 核心知识源
> **扩容影响**: **极高** - 需扩展到 400+ 方法

HMML（Hierarchical Mathematical Modeling Library）是系统的核心知识库，提供数学建模领域的专业知识。采用三层层级结构组织 98+ 建模模式，是系统进行问题分析和方法选择的基础。在"扩容一倍源代码再扩容一倍"的背景下（从 98+ 方法扩展到 400+ 方法，从 3 层层级扩展到 5 层层级），HMML 的可扩展架构设计成为关键挑战。

**迁移价值**：HMML 是 LLM-MM-Agent 的核心创新，也是扩容的重点。从 98+ 方法扩展到 400+ 方法需要：1）重新设计层级结构（从 3 层到 5 层）；2）建立动态方法注册机制；3）优化嵌入相似度检索算法（支持更大的向量空间）；4）建立方法分类和索引系统。这是扩容过程中技术难度最大的部分。

---

### `__init__.py` ⭐
**包初始化文件**，绝对路径：`D:/migration/clean version/LLM-MM-Agent/MMAgent/HMML/__init__.py`。

**迁移价值**：在扩容时需要添加新的子包初始化文件，支持 5 层层级结构。

---

### `HMML.md` ⭐⭐⭐⭐⭐⭐
**HMML 核心文档**，绝对路径：`D:/migration/clean version/LLM-MM-Agent/MMAgent/HMML/HMML.md`。以 Markdown 格式呈现的完整知识库。采用 3 层层级结构组织建模方法：1）域（Domain）：顶层分类，如优化、预测、分类、聚类、评价、仿真等 6 大领域；2）子域（Subdomain）：中层细分，如优化下的线性规划、整数规划、非线性规划；3）方法节点（Method Node）：具体方法，包含方法名称、描述、适用场景、数学公式、参数说明、实现要点、示例案例。

**迁移价值**：这是系统的核心知识源。在扩容到 400+ 方法时，需要将 3 层结构扩展到 5 层结构。新增的层级可能包括：4）子子域（Sub-subdomain）：更细分的专业领域；5）方法变体（Method Variant）：同一方法的不同实现或参数组合。文档需要支持动态生成和索引，方便快速查找和更新。

---

### `HMML.json` ⭐⭐⭐⭐⭐⭐
**HMML 的 JSON 格式表示**，绝对路径：`D:/migration/clean version/LLM-MM-Agent/MMAgent/HMML/HMML.json`。包含层级结构化的建模方法元数据。每个方法节点包含丰富的结构化信息：name（方法名称，中英文）、description（方法描述，功能、原理、特点）、domain（所属域）、subdomain（所属子域）、applicability（适用场景，问题特征、数据要求）、formula（数学公式，LaTeX 格式）、parameters（参数说明，含义、取值范围）、examples（示例案例）、embedding（文本嵌入向量）。

**迁移价值**：JSON 格式是程序化访问的基础。在扩容到 400+ 方法时，JSON 结构需要支持 5 层层级。需要添加新字段：sub_subdomain（子子域）、method_variants（方法变体）、related_methods（相关方法）、performance_metrics（性能指标）。JSON 文件可能需要拆分为多个文件（按域或子域分割），以支持并行加载和更新。

---

## HMML 核心特性

1. **3 层层级结构**：Domain → Subdomain → Method Node（**扩容目标**：5 层层级结构）
2. **98+ 建模模式**：覆盖数学建模的主要类型（**扩容目标**：400+ 建模模式）
3. **问题感知检索**：根据问题类型和特征自动检索和推荐合适的方法
4. **解决方案感知检索**：根据已有解决方案检索相关方法，支持方法组合
5. **嵌入相似度匹配**：使用文本嵌入计算方法与问题的语义相似度
6. **Top-K 检索**：返回 top_method_num（默认 6）个最相关方法

---

## HMML 扩容计划

### 阶段 1：层级结构扩展（1-2 周）
- 从 3 层扩展到 5 层：Domain → Subdomain → Sub-subdomain → Method → Variant
- 重新设计 HMML.json 的 schema
- 更新检索算法支持 5 层结构

### 阶段 2：方法数量扩展（3-4 周）
- 从 98+ 方法扩展到 200 方法（第一次扩容）
- 添加新的域和子域
- 建立方法注册模板和流程

### 阶段 3：优化和自动化（2-3 周）
- 优化嵌入相似度检索算法（支持更大的向量空间）
- 建立方法自动索引系统
- 建立方法质量评估机制

### 阶段 4：最终扩容（4-6 周）
- 从 200 方法扩展到 400+ 方法（第二次扩容）
- 完善所有域的覆盖
- 建立方法的版本管理和更新机制

---

## HMML 应用场景

- **问题分析阶段**：根据问题描述自动检索候选方法
- **建模阶段**：提供详细的建模指导和公式
- **方法选择**：基于问题特征推荐最合适的方法
- **知识扩展**：作为数学建模的教学参考
- **方法组合**：检索多个相关方法，支持组合建模策略

---

**文档版本**: v1.0
**最后更新**: 2026-01-24
