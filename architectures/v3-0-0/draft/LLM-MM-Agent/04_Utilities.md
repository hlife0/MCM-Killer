# LLM-MM-Agent: 工具集

> Path: `clean version/LLM-MM-Agent/MMAgent/utils/`

---

### `__init__.py`
包初始化文件。

---

### `ast_path_guard.py`
AST路径保护模块，验证和保护抽象语法树路径。防止恶意代码访问敏感路径，确保代码执行的安全性。

---

### `ast_validator.py`
抽象语法树验证器，检查生成的代码AST的合法性。识别潜在的安全风险、语法错误、危险操作。

---

### `auto_evaluation.py`
自动质量评估系统，评估生成结果的质量。包括相关性、准确性、完整性等多维度评估，自动评分。

---

### `autofixer.py`
自动bug修复工具，自动检测和修复代码中的常见错误。基于模式匹配和规则引擎，提供快速修复。

---

### `canonical_whitelist.py`
代码安全白名单，定义允许的Python操作和模块。任何不在白名单中的操作都会被拒绝，确保代码执行的安全性。

---

### `chart_config.py`
图表配置管理，管理图表的样式、尺寸、颜色等配置。提供配置模板和默认值。

---

### `chart_templates.py`
图表模板库，提供各种常见图表类型的代码模板。包括折线图、柱状图、散点图、热力图、3D图等。

---

### `code_guards.py`
代码安全守卫，防止恶意代码执行。检查危险操作（文件操作、网络请求、系统调用），在执行前进行安全验证。

---

### `code_guards_enhanced.py`
增强版代码安全系统，提供更全面的安全检查。包括动态分析、行为监控、异常检测。

---

### `column_normalization.py`
数据列标准化，统一数据集的列名和格式。处理命名不一致、类型不匹配、缺失值等问题。

---

### `computational_solving.py`
计算求解管道，生成和执行求解代码。将数学模型转换为可执行代码，在安全环境中执行，收集结果。包含代码生成、执行、结果提取的完整流程。

---

### `convert_format.py`
格式转换工具，在不同数据格式之间转换。支持JSON、CSV、Excel、Markdown等格式的互转。

---

### `data_manager.py`
数据管理系统，管理数据的加载、缓存、版本控制。提供统一的数据访问接口。

---

### `data_models.py`
数据模型定义，定义系统中使用的各种数据结构。包括任务、结果、配置等模型。

---

### `data_normalization.py`
数据标准化工具，将数据转换为标准格式。处理单位统一、编码转换、格式对齐等。

---

### `data_preprocessing.py`
数据预处理管道，进行数据清洗、转换、特征工程。包括缺失值处理、异常值检测、特征编码等。

---

### `embedding.py`
嵌入生成模块，为文本生成向量嵌入。用于相似度匹配、语义检索、聚类分析。支持多种嵌入模型。

---

### `env_guard.py`
环境安全守卫，保护执行环境的安全性。限制资源使用、隔离执行环境、监控异常行为。

---

### `execution_fsm.py`
执行有限状态机，用状态机管理执行流程。定义状态、转换规则、动作。确保执行流程的正确性。

---

### `execution_tracker.py`
综合事件跟踪系统（Truth Mode），记录所有执行事件的详细日志。包括LLM调用、代码执行、错误发生、状态变化等。提供完整的事件追踪和事后分析能力。

---

### `failure_handler.py`
故障处理和恢复模块，处理各种故障情况。提供重试机制、降级策略、恢复方案。增强系统的鲁棒性。

---

### `fix_pattern_library.py`
Bug修复模式库，收集常见错误的修复模式。提供预定义的修复规则和模板，加速bug修复过程。

---

### `import_guard.py`
导入安全守卫，限制不安全的模块导入。只允许白名单中的模块被导入，防止恶意代码利用危险模块。

---

### `incremental_builder.py`
增量构建系统，支持增量式地构建和更新结果。避免重复计算，提高效率。

---

### `json_utils.py`
JSON工具函数，提供JSON的读写、验证、转换功能。处理复杂JSON结构、编码问题、格式化。

---

### `latent_reporter.py`
后处理研究日志生成器，在管道完成后生成研究日志。整理执行过程、关键决策、结果分析，生成人类可读的研究报告。

---

### `logging_config.py`
结构化日志配置，配置系统的日志输出。定义日志级别、格式、输出目标。支持多级别日志和彩色输出。

---

### `mathematical_modeling.py`
数学建模管道，进行方法选择、模型构建、求解。从HMML选择合适方法，构建数学模型，求解模型并验证结果。是数学建模的核心流程。

---

### `medal_allocation.py`
性能评估系统，评估解决方案的质量。基于多个维度打分，提供改进建议。

---

### `minimal_chart_renderer.py`
最小化图表渲染器，提供轻量级的图表生成功能。用于快速生成简单的可视化图表。

---

### `path_autofix.py`
路径自动修正，自动修正错误的文件路径。处理相对路径、绝对路径、跨平台路径问题。

---

### `problem_analysis.py`
问题分析工具，提供问题分析的辅助函数。包括问题类型识别、约束提取、目标解析等。

---

### `rate_limiter.py`
API速率限制器，防止API调用超限。实现令牌桶算法，控制请求速率，避免触发限流。

---

### `safe_merge.py`
安全数据合并，安全地合并多个数据源。处理冲突、不一致、类型不匹配等问题。

---

### `schema_manager.py`
模式管理系统，管理数据模式定义和验证。提供模式注册、验证、转换功能。

---

### `schema_normalization.py`
模式标准化，将不同的数据模式转换为统一格式。处理字段映射、类型转换、结构对齐。

---

### `schema_registry.py`
模式注册表，注册和管理系统中使用的所有数据模式。提供模式查询、验证、版本管理。

---

### `solution_reporting.py`
解决方案报告模块（Omni-Survival Kit），确保即使系统崩溃也能生成PDF报告。实现死手开关机制，提供多级降级策略。是系统可靠性的关键保障。

---

### `syntax_fixer.py`
语法修正工具，自动修正代码中的语法错误。基于语法分析和模式匹配，提供快速修正。

---

### `utils.py`
通用工具函数，提供各种常用功能。包括字符串处理、文件操作、时间处理等。

---

### `variable_contract.py`
变量契约系统，确保变量在系统中的命名和类型一致。定义变量契约、验证契约、强制执行契约。

---

### `tests/`
测试套件目录，包含35+自动化测试文件。覆盖各个模块的功能、边界情况、错误处理。详见"测试基础设施"文档。

---

**文档版本**: v1.0
