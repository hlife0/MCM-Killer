# Phase 5.8 Path Verification and Reference Guide

**Date**: 2026-01-28
**Purpose**: Verify all paths and agent links are correct for methodology evolution template

---

## âœ… Path Verification Status

All paths verified and correct as of 2026-01-28.

---

## ðŸ“ Template Location

### Primary Template File
```
Path: knowledge_library/templates/methodology_evolution_template.md
Full Path: D:\migration\MCM-Killer\workspace\2025_C\knowledge_library\templates\methodology_evolution_template.md
Status: âœ… EXISTS (10,398 bytes)
```

### Directory Structure
```
D:\migration\MCM-Killer\workspace\2025_C\
â”œâ”€â”€ knowledge_library\
â”‚   â””â”€â”€ templates\
â”‚       â”œâ”€â”€ methodology_evolution_template.md â­ (MAIN TEMPLATE)
â”‚       â”œâ”€â”€ writing\
â”‚       â””â”€â”€ narrative_arcs\
â””â”€â”€ .claude\
    â”œâ”€â”€ agents\
    â”‚   â”œâ”€â”€ metacognition_agent.md (references template)
    â”‚   â””â”€â”€ writer.md (integration guidance)
    â””â”€â”€ protocols\
        â””â”€â”€ protocol_14_academic_style.md (limitations section)
```

---

## ðŸ”— Agent References Updated

### 1. @metacognition_agent
**File**: `.claude/agents/metacognition_agent.md`

**References**:
- Line 210: Template location with full path
- Line 241: Template reference with quick access materials
- Line 279: Output file path (`output/docs/methodology_evolution_{i}.md`)

**Code Snippet**:
```markdown
## Output Format: methodology_evolution_{i}.md

**Template Location**: `knowledge_library/templates/methodology_evolution_template.md`
(Full path from workspace root: `D:\migration\MCM-Killer\workspace\2025_C\knowledge_library\templates\methodology_evolution_template.md`)

**For complete template with examples and quality checklist, see**:
`knowledge_library/templates/methodology_evolution_template.md`

**Quick reference materials**:
- Template with examples: `knowledge_library/templates/methodology_evolution_template.md`
- Comparison (old vs new): `D:\migration\phase_5.8_template_comparison.md`
- Visual summary: `D:\migration\phase_5.8_visual_summary.md`
```

**Status**: âœ… UPDATED

---

### 2. @writer
**File**: `.claude/agents/writer.md`

**References**:
- Line 574: Section on "Using Methodology Evolution in Discussion Section"
- Line 577: Input files location (`output/docs/methodology_evolution_{i}.md`)
- Line 580: Template reference for understanding structure

**Code Snippet**:
```markdown
## Using Methodology Evolution in Discussion Section

When incorporating methodology_evolution_{i}.md insights:

**Input Files Location**: `output/docs/methodology_evolution_{i}.md`
(Generated by @metacognition_agent during Phase 5.8)

**Template Reference**: `knowledge_library/templates/methodology_evolution_template.md`
(For understanding the structure and content of methodology evolution files)

**Brevity Constraint**:
- Maximum 2 sentences per evolution item
- Focus on the insight, not the journey
- Omit if it doesn't directly support a conclusion
```

**Status**: âœ… UPDATED

---

### 3. phase_details.md
**File**: `knowledge_base/phase_details.md`

**References**:
- Line 531: Phase 5.8 section title
- Line 540: Output file path (`output/docs/methodology_evolution_{i}.md`)
- Line 548-549: Template and resources section added

**Code Snippet**:
```markdown
### Template and Resources
- **Main Template**: `knowledge_library/templates/methodology_evolution_template.md`
- **Quick Reference**: See `knowledge_library/templates/methodology_evolution_template.md` for structure, examples, and quality checklist
- **Agent Instructions**: `.claude/agents/metacognition_agent.md` (template reference on line 210)
- **Integration Guide**: `.claude/agents/writer.md` (Phase 7E guidance on line 574)
```

**Status**: âœ… UPDATED

---

### 4. CLAUDE.md
**File**: `CLAUDE.md`

**References**:
- Line 441: Phase 5.8 section title
- Line 445: Output file path updated to include `output/docs/`
- Line 449: Template reference added

**Code Snippet**:
```markdown
### Phase 5.8: Methodology Evolution Documentation

**Output**: output/docs/methodology_evolution_{i}.md

**Template**: knowledge_library/templates/methodology_evolution_template.md
- Full structure with 6 sections
- Language guidelines (forbidden/required words)
- Quantitative requirements and examples
- Quality checklist for validation
```

**Status**: âœ… UPDATED

---

## ðŸ“Š Path Reference Table

| Component | Relative Path | Full Path | Status |
|-----------|---------------|-----------|--------|
| **Main Template** | `knowledge_library/templates/methodology_evolution_template.md` | `D:\migration\MCM-Killer\workspace\2025_C\knowledge_library\templates\methodology_evolution_template.md` | âœ… Verified |
| **Output Files** | `output/docs/methodology_evolution_{i}.md` | `D:\migration\MCM-Killer\workspace\2025_C\output\docs\methodology_evolution_{i}.md` | âœ… Correct |
| **Agent Instructions** | `.claude/agents/metacognition_agent.md` | `D:\migration\MCM-Killer\workspace\2025_C\.claude\agents\metacognition_agent.md` | âœ… Updated |
| **Writer Guide** | `.claude/agents/writer.md` | `D:\migration\MCM-Killer\workspace\2025_C\.claude\agents\writer.md` | âœ… Updated |
| **Phase Details** | `knowledge_base/phase_details.md` | `D:\migration\MCM-Killer\workspace\2025_C\knowledge_base\phase_details.md` | âœ… Updated |
| **Main Doc** | `CLAUDE.md` | `D:\migration\MCM-Killer\workspace\2025_C\CLAUDE.md` | âœ… Updated |

---

## ðŸ” Access Patterns

### For @metacognition_agent
1. **During Phase 5.8**:
   - Read template: `knowledge_library/templates/methodology_evolution_template.md`
   - Read inputs: `output/implementation/logs/summary.json` + `output/docs/dev_diary_{i}.md`
   - Write output: `output/docs/methodology_evolution_{i}.md`

2. **Path context**: All paths are relative to workspace root (`2025_C/`)

### For @writer
1. **During Phase 7E** (Conclusions):
   - Read inputs: `output/docs/methodology_evolution_*.md` (from @metacognition_agent)
   - Read template reference: `knowledge_library/templates/methodology_evolution_template.md` (for understanding)
   - Write output: `output/paper/paper.tex` (incorporating â‰¤2 sentences per item)

2. **Path context**: Writer operates in workspace root, paths are relative

### For @director
1. **During Phase 5.8**:
   - Verify template exists: `knowledge_library/templates/methodology_evolution_template.md`
   - Verify output created: `output/docs/methodology_evolution_{i}.md`
   - Pass to Phase 7: Ensure @writer can access methodology_evolution files

---

## ðŸ§ª Verification Commands

### Check Template Exists
```bash
cd D:\migration\MCM-Killer\workspace\2025_C
test -f knowledge_library/templates/methodology_evolution_template.md && echo "âœ… TEMPLATE EXISTS" || echo "âŒ TEMPLATE MISSING"
```

### Verify Template Structure
```bash
cd D:\migration\MCM-Killer\workspace\2025_C
head -20 knowledge_library/templates/methodology_evolution_template.md
```

### Check Agent References
```bash
cd D:\migration\MCM-Killer\workspace\2025_C
grep -n "methodology_evolution_template" .claude/agents/metacognition_agent.md
grep -n "methodology_evolution" .claude/agents/writer.md
```

### List All Related Files
```bash
cd D:\migration\MCM-Killer\workspace\2025_C
find . -name "*methodology_evolution*" -o -name "*phase_5.8*" | head -20
```

---

## ðŸ“‹ Quality Checklist

### Path Verification
- [x] Template file exists at correct location
- [x] All relative paths resolve from workspace root
- [x] Full paths documented for reference
- [x] No broken symbolic links
- [x] Windows path compatibility verified

### Agent Integration
- [x] @metacognition_agent references template (line 210, 241)
- [x] @writer references input/output paths (line 574, 577)
- [x] phase_details.md includes template reference (line 548)
- [x] CLAUDE.md includes template reference (line 449)

### Documentation
- [x] Quick reference materials listed in metacognition_agent.md
- [x] Template location documented in multiple files
- [x] Access patterns clearly defined
- [x] Verification commands provided

---

## ðŸš€ Quick Access Commands

### For Agents (When Executing)

**@metacognition_agent**:
```bash
# Read template
cat knowledge_library/templates/methodology_evolution_template.md

# Write output
# (uses relative path: output/docs/methodology_evolution_{i}.md)
```

**@writer**:
```bash
# Read methodology evolution files
ls output/docs/methodology_evolution_*.md

# Read template for reference
cat knowledge_library/templates/methodology_evolution_template.md
```

**@director**:
```bash
# Verify template exists
test -f knowledge_library/templates/methodology_evolution_template.md

# Verify outputs created
ls -lh output/docs/methodology_evolution_*.md

# Check agent references
grep -r "methodology_evolution_template" .claude/
```

---

## ðŸ“ Usage Examples

### Example 1: @metacognition_agent Creating Output
```bash
# Workspace root: D:\migration\MCM-Killer\workspace\2025_C

# 1. Read template
cat knowledge_library/templates/methodology_evolution_template.md

# 2. Read inputs
cat output/implementation/logs/summary.json
cat output/docs/dev_diary_1.md

# 3. Write output (following template structure)
cat > output/docs/methodology_evolution_1.md << 'EOF'
# Methodology Evolution: Model 1
...
EOF
```

### Example 2: @writer Integrating Insights
```bash
# Workspace root: D:\migration\MCM-Killer\workspace\2025_C

# 1. Read methodology evolution files
cat output/docs/methodology_evolution_1.md
cat output/docs/methodology_evolution_2.md

# 2. Extract key insights (â‰¤2 sentences each)
# 3. Integrate into Discussion section of paper.tex
```

### Example 3: @director Verifying Completion
```bash
# Workspace root: D:\migration\MCM-Killer\workspace\2025_C

# 1. Verify template exists
test -f knowledge_library/templates/methodology_evolution_template.md && echo "âœ… Template OK"

# 2. Verify outputs created
ls -lh output/docs/methodology_evolution_*.md

# 3. Verify agent references
grep -c "methodology_evolution_template" .claude/agents/metacognition_agent.md
# Expected: 3 references
```

---

## ðŸ”„ Path Migration Summary

### Old Paths (Narrative Arc)
- Output: `output/docs/insights/narrative_arc_{i}.md` âŒ DEPRECATED
- Template: None (inline in agent file) âŒ DEPRECATED

### New Paths (Methodology Evolution)
- Output: `output/docs/methodology_evolution_{i}.md` âœ… CURRENT
- Template: `knowledge_library/templates/methodology_evolution_template.md` âœ… CURRENT
- Comparison: `D:\migration\phase_5.8_template_comparison.md` âœ… REFERENCE
- Summary: `D:\migration\phase_5.8_visual_summary.md` âœ… REFERENCE

---

## âœ¨ Key Improvements

1. **Centralized Template**: Single source of truth for structure and examples
2. **Clear Path Documentation**: Full paths and relative paths both provided
3. **Agent Integration**: All agents know where to find template and outputs
4. **Quick Reference**: Multiple access methods (main, comparison, visual summary)
5. **Verification Commands**: Easy checks for template and output existence

---

## ðŸ“ž Troubleshooting

### Issue: Template Not Found
**Symptom**: Agent can't find `methodology_evolution_template.md`
**Solution**:
```bash
cd D:\migration\MCM-Killer\workspace\2025_C
ls -la knowledge_library/templates/
# Should show methodology_evolution_template.md
```

### Issue: Wrong Output Directory
**Symptom**: Files written to wrong location
**Solution**: Verify agent is using `output/docs/methodology_evolution_{i}.md` (not `insights/`)

### Issue: Broken References
**Symptom**: Agent can't access template or outputs
**Solution**: Check workspace root is `D:\migration\MCM-Killer\workspace\2025_C`

---

## ðŸ“… Maintenance

**Last Verified**: 2026-01-28
**Next Review**: After workspace structure changes

**When to Update This Document**:
- Template location changes
- New agent added to workflow
- Path structure modified
- Documentation updated

---

**Status**: âœ… ALL PATHS VERIFIED AND CORRECT

**Summary**: All agents and documentation have been updated with correct path references to the methodology evolution template and output files. The system is ready for production use.
