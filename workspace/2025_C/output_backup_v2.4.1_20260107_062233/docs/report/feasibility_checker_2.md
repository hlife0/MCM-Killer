# Feasibility Checker Report #2

| 字段 | 值 |
|------|------|
| Agent | feasibility_checker |
| 编号 | 2 |
| 时间 | 2026-01-06T02:00:00Z |
| 状态 | SUCCESS |

---

## 任务概述

Phase 2 可行性检查，重点验证 MODEL Gate (1_MODEL_summary.md) 提出的风险点：
- 教练效应数据可行性（最高优先级）
- 计算资源实际需求（高优先级）
- 特征工程实现难度（中优先级）
- 数据质量评估（基础检查）

---

## 1. 教练效应数据可行性

### 1.1 数据检查结果

**确认**: `summerOly_athletes.csv` **不包含** "coach" 字段。

实际字段：
- Name, Sex, Team, NOC, Year, City, Sport, Event, Medal

数据规模：
- 总记录数: 252,565 条
- 唯一运动员: 129,992 人
- 年份范围: 1896-2024
- 唯一国家: 234 个
- 唯一项目: 76 个

### 1.2 可行性评估

**结论**: ❌ **直接教练数据不可用**

原计划特征（Section 6.3）**全部不可行**：
- `coach_change_indicator` - 无教练字段
- `post_change_dummy` - 无教练字段
- `treatment_intensity` - 无教练字段

**但是**: ✅ **存在可行的代理变量**

#### 代理变量 1: 运动员跨国流动 (athlete_mobility)

**定义**: 该国代表过其他国家的运动员比例

**数据支持**:
- 2,687 名运动员代表过多国（占总运动员 2.07%）
- 可从 `summerOly_athletes.csv` 直接计算

**实现方法**:
```python
mobile_athletes = athletes.groupby('Name')['NOC'].nunique()
athlete_mobility_rate = (mobile_athletes > 1).sum() / total_athletes
```

**可行性**: ✅ 易

---

#### 代理变量 2: 奖牌突然激增 (medal_surge)

**定义**: 金牌增长 >= 5 的年份

**数据支持**:
- 82 次激增事件（1896-2024）
- 可从 `summerOly_medal_counts.csv` 计算

**示例激增事件**:
- China 2008: 32 → 48 (+16)
- China 1992: 5 → 16 (+11)
- China 2000: 16 → 28 (+12)
- Australia 2020: 8 → 17 (+9)

**实现方法**:
```python
medals['Gold_lag1'] = medals.groupby('NOC')['Gold'].shift(1)
medals['Gold_change'] = medals['Gold'] - medals['Gold_lag1']
surge_events = medals[medals['Gold_change'] >= 5]
```

**可行性**: ✅ 易

---

#### 代理变量 3: 首次获奖年份 (first_medal_year)

**定义**: 该国首次获得金牌的年份

**数据支持**:
- 148 个国家有金牌记录
- 可用于识别"突破性"时刻

**可行性**: ✅ 易

---

### 1.3 降级方案

**方案 A: Synthetic Control 方法（修订版）**

原计划（不可行）:
- 处理变量: 著名教练流动年份

修订版（可行）:
- 处理变量: `medal_surge` 事件
- 构建合成对照: 使用未激增的相似国家
- 估计效应: Δ = Y<sub>surge</sub> - Y<sub>synthetic</sub>

**可行性**: ⚠️ 中 - 需要验证平行趋势假设

---

**方案 B: 相关性分析（保守方案）**

**分析内容**:
1. 运动员流动与奖牌变化的相关性
2. 奖牌激增的持久性检验
3. 激增后的趋势分析

**方法**:
- 散点图: athlete_mobility vs medal_change
- 回归: medal_change ~ athlete_mobility + controls
- 事件研究: 分析激增前后 5 届的趋势

**可行性**: ✅ 易

---

**方案 C: 案例研究（描述性分析）**

**选择典型案例**:
- China 1992-2008（持续崛起）
- Australia 1956-2000（主办国效应 + 激增）
- Brazil 2004（首次金牌突破）

**分析方法**:
- 时间序列可视化
- 对比相似国家
- 定性分析（历史背景）

**可行性**: ✅ 易

---

### 1.4 评分

| 维度 | 评分 | 说明 |
|------|------|------|
| 原计划可行性 | 0/10 | 无直接教练数据 |
| 代理变量可用性 | 8/10 | 3 个可行代理变量 |
| Synthetic Control | 5/10 | 需要验证假设 |
| 相关性分析 | 9/10 | 完全可行 |
| **总体** | **7/10** | **需使用降级方案** |

**风险等级**: 🟡 中等（有可行的替代方案）

---

## 2. 计算资源实际需求

### 2.1 数据规模

- 总观测数: 1,435（国家-年份）
- 国家数: 210 个
- 年份数: 30 届（1896-2024）
- 参数数量: 645 个
  - 固定效应 (β): 7 个
  - 零膨胀参数 (γ): 3 个
  - 随机效应 (u, v, w): 630 个
  - 超参数 (σ): 3 个
  - 离散度参数 (θ): 2 个
- **观测/参数比**: 2.22（偏低，理想 > 3）

---

### 2.2 时间估算（更新）

#### MCMC 设置（Stan HMC）
- 4 条链
- 每链 2,000 次迭代（warmup: 1,000, sampling: 1,000）
- 总迭代: 8,000 次
- 总样本: 4,000 个

#### 基础计算时间（仅 HMC 采样）
基于零膨胀负二项模型的经验公式：
- 乐观: 1.6 小时
- 期望: 3.2 小时
- 悲观: 6.4 小时

#### 总时间估算（包含调试、验证、预测）

**额外时间开销**:
- 调试和模型选择: ×1.5
- 模型比较 (WAIC/LOO): ×1.2
- 预测和敏感性分析: ×1.1
- **总系数**: ×1.98

**最终时间估算**:
- **乐观**: 3.2 小时（~3 小时 12 分钟）
- **期望**: 6.3 小时（~6 小时 18 分钟）
- **悲观**: 12.6 小时（~12 小时 36 分钟）

**对比 MODEL Gate 的估计**:
- modeler 估计: 2-6 小时
- MODEL Gate 反馈: 8-24 小时
- **本次评估**: **6.3 小时（期望）**

**结论**: 介于 modeler 和 MODEL Gate 估计之间，更接近 modeler，但仍需预留 12-24 小时总时间（包含返工和调试）。

---

### 2.3 加速方案

#### Variational Bayes (VB)

- 加速比: ~10x
- 估算时间: **0.6 小时（~40 分钟）**
- 适用场景:
  - 快速迭代
  - 原型开发
  - 参数初始值估计

**缺点**:
- 近似推断，不确定性可能被低估
- 不适合最终模型

**推荐策略**:
1. 使用 VB 快速迭代模型规格
2. 确定最终模型后，使用 HMC 精确推断

---

#### 模型简化

如果时间不足（< 6 小时），可考虑：

| 简化方案 | 时间系数 | 性能损失 |
|---------|---------|---------|
| 去除零膨胀部分 | ×0.6 | 零膨胀建模能力丧失 |
| Poisson 而非负二项 | ×0.7 | 过度离散问题 |
| 减少随机效应 | ×0.8 | 异质性捕捉能力下降 |
| **组合使用** | ×0.3-0.4 | 显著损失模型能力 |

**建议**: 仅在时间极端紧张时使用简化方案。

---

### 2.4 收敛风险

#### 风险因素

1. **观测/参数比偏低 (2.22)** ⚠️
   - 分层先验可能欠约束
   - 零膨胀参数可识别性困难

2. **零膨胀模型收敛慢** ⚠️
   - 零膨胀和计数过程的相关性
   - 需要更多 warmup 迭代

3. **多模态后验** ⚠️
   - 随机效应可能导致局部最优
   - 需要多条链验证

---

#### 缓解策略

**1. 调整先验强度**
```
原设定: β, γ ~ N(0, 10)
建议:   β, γ ~ N(0, 3)
```
- 更强的正则化
- 减少过拟合风险

**2. 非中心化参数化**
```
中心化: u_i ~ N(0, σ_u)
非中心化: u_i_raw ~ N(0, 1)
         u_i = u_i_raw * σ_u
```
- 改善 HMC 采样效率
- 减少后验相关性

**3. 增加 warmup 迭代**
```
原设定: warmup = 1,000
建议:   warmup = 1,500
```
- 给予更多适应时间
- 改善收敛性

**4. 诊断标准**
- R-hat < 1.01（必须）
- ESS > 400（必须）
- ESS > 1,000（推荐）
- 后验预测检验（必须）

---

### 2.5 评分

| 维度 | 评分 | 说明 |
|------|------|------|
| 时间估计准确性 | 8/10 | 基于经验公式，但存在不确定性 |
| 资源充足性 | 7/10 | 6-12 小时合理，但需预留缓冲 |
| 收敛风险 | 5/10 | 观测/参数比偏低，零膨胀难收敛 |
| VB 加速可用性 | 9/10 | 10x 加速，适合快速迭代 |
| **总体** | **7/10** | **可行但需谨慎管理** |

**风险等级**: 🟡 中等（时间充足但收敛有风险）

---

## 3. 特征工程实现难度

### 3.1 核心特征（Section 6.1）

| 特征名 | 数据源 | 难度 | 可行性 | 备注 |
|--------|--------|------|--------|------|
| gold_lag1 | summerOly_medal_counts.csv | ✅ 易 | ✅ | `groupby().shift(1)` |
| gold_lag2 | summerOly_medal_counts.csv | ✅ 易 | ✅ | `groupby().shift(2)` |
| total_lag1 | summerOly_medal_counts.csv | ✅ 易 | ✅ | `groupby().shift(1)` |
| host_flag | summerOly_hosts.csv | ⚠️ 中 | ✅ | 需处理国家名差异 |
| events_count | summerOly_programs.csv | ✅ 易 | ✅ | 简单求和 |
| year_normalized | derived | ✅ 易 | ✅ | 简单计算 |
| past_success | derived | ✅ 易 | ✅ | `rolling(window=4).mean()` |

**总体评分**: ✅ 9/10 - 所有核心特征易实现，host_flag 需要额外处理。

---

### 3.2 项目层面特征（Section 6.2）

| 特征名 | 数据源 | 难度 | 可行性 | 备注 |
|--------|--------|------|--------|------|
| country_sport_match | summerOly_athletes.csv | ✅ 易 | ✅ | 从运动员数据聚合，6,745 个观测 |
| sport_importance | derived | ✅ 易 | ✅ | 占该国总奖牌的比例 |
| host_sport_advantage | derived | ⚠️ 中 | ✅ | 需要主办国 × 项目交互 |

**数据支持**:
- 国家-项目-年份组合: 6,745 个
- 可从 `summerOly_athletes.csv` 聚合

**总体评分**: ✅ 8/10 - 所有特征可行，交互特征需要仔细设计。

---

### 3.3 教练效应特征（Section 6.3）

#### 原计划特征（❌ 不可行）

| 特征名 | 数据源 | 难度 | 可行性 | 备注 |
|--------|--------|------|--------|------|
| coach_change_indicator | ❌ 无数据 | ❌ 不可行 | ❌ | 数据集无 coach 字段 |
| post_change_dummy | ❌ 无数据 | ❌ 不可行 | ❌ | 数据集无 coach 字段 |
| treatment_intensity | ❌ 无数据 | ❌ 不可行 | ❌ | 数据集无 coach 字段 |

---

#### 推荐代理变量（✅ 可行）

| 特征名 | 数据源 | 难度 | 可行性 | 备注 |
|--------|--------|------|--------|------|
| athlete_mobility | summerOly_athletes.csv | ✅ 易 | ✅ | 2,687 名运动员代表过多国 |
| medal_surge | summerOly_medal_counts.csv | ✅ 易 | ✅ | 82 次激增事件 |
| first_medal_year | summerOly_medal_counts.csv | ✅ 易 | ✅ | 148 个国家有金牌记录 |

**总体评分**: ⚠️ 5/10 - 原计划不可行，但代理变量完全可用。

---

### 3.4 总体评分

| 特征类别 | 评分 | 风险等级 |
|---------|------|---------|
| 核心特征 | 9/10 | 🟢 低 |
| 项目层面特征 | 8/10 | 🟢 低 |
| 教练效应特征 | 5/10 | 🟡 中 |
| **总体** | **7/10** | **🟡 中等** |

**关键发现**:
- ✅ 所有核心和项目层面特征可实现
- ❌ 教练效应特征需降级到代理变量
- ⚠️ host_flag 需要国家名标准化

---

## 4. 数据质量评估

### 4.1 完整性

**检查结果**: ✅ **无缺失值**

| 数据文件 | 总记录数 | 缺失值 |
|---------|---------|-------|
| summerOly_medal_counts.csv | 1,435 | 0 |
| summerOly_hosts.csv | 35 | 0 |
| summerOly_athletes.csv | 252,565 | 0 |

**评分**: ✅ 10/10

---

### 4.2 一致性

#### 发现的问题

**🔴 问题 1: 国家名尾部空格**

```
'Australia' vs 'Australia '
'Brazil' vs 'Brazil '
'Belgium' vs 'Belgium '
```

**影响**: 导致同一国家被识别为不同实体

**修复**: `medals['NOC'] = medals['NOC'].str.strip()`

---

**🔴 问题 2: 国家名标准化**

medals.csv 中的国家名（前30个）:
```
'Afghanistan', 'Albania', 'Algeria', 'Argentina', 'Argentina ', ...
```

hosts.csv 中的主办国（前10个）:
```
'Australia', 'Belgium', 'Brazil', 'Canada', 'China', ...
```

**潜在问题**:
- 大小写差异（虽然实际数据看起来一致）
- 缩写差异（如 'USA' vs 'United States'）
- 历史国家名（如 'Soviet Union' vs 'Russia'）

**修复**: 需要国家名标准化映射表

---

**🟡 问题 3: 特殊实体**

- `'Mixed team'` - 跨国组合
- `'Australasia'` - 历史地区（澳大利亚 + 新西兰）
- `'Bohemia'` - 历史国家
- `'British West Indies'` - 历史联邦

**建议**:
- 选项 A: 删除特殊实体（简化）
- 选项 B: 合并到现代国家（复杂）
- 选项 C: 单独建模（最准确）

---

**评分**: ⚠️ 6/10 - 需要预处理工作

---

### 4.3 时间跨度

**medal_counts.csv**:
- 年份范围: 1896-2024
- 实际举办届数: 30 届
- 连续性: ✅ 完全连续（已排除 1916, 1940, 1944 战争年份）

**hosts.csv**:
- 年份范围: 1896-2032
- 记录届数: 32 届（包含未来）
- 一致性: ✅ 与 medal_counts 完全一致（1896-2024）

**评分**: ✅ 10/10

---

### 4.4 零膨胀验证

**model_design_1.md 估计**: 33.9%

**实际验证**:
- 零金牌观测: 486 / 1,435
- **零膨胀比例**: 33.9%
- **差异**: 0.0%

**结论**: ✅ 估计完全准确

**各年份零金牌比例**:
```
 1896: 0.0%  (首届奥运会，所有参赛国都有奖牌)
 1900: 28.6%
 1920: 31.8%
 1960: 47.7% (最高)
 1984: 46.8%
 2024: 30.8%
```

**趋势**: 零金牌比例随时间上升（更多新兴国家参赛）

**评分**: ✅ 10/10

---

### 4.5 总体评分

| 维度 | 评分 | 风险等级 |
|------|------|---------|
| 完整性 | 10/10 | 🟢 无 |
| 一致性 | 6/10 | 🟡 中 |
| 时间跨度 | 10/10 | 🟢 无 |
| 零膨胀验证 | 10/10 | 🟢 无 |
| **总体** | **9/10** | **🟢 低** |

---

### 4.6 预处理问题列表

**🔴 必须修复**:
1. 去除国家名尾部空格（如 `'Australia '`）
2. 标准化国家名称（medals vs hosts）

**🟡 建议处理**:
3. 处理 `'Mixed team'` 等特殊实体
4. 确认是否合并历史国家（如苏联、西德）

---

## 5. 总体可行性评估

### 5.1 可行性矩阵

| 维度 | 评分 | 风险等级 | 状态 |
|------|------|---------|------|
| 教练效应数据 | 7/10 | 🟡 中 | 需降级方案 |
| 计算资源 | 7/10 | 🟡 中 | 需谨慎管理 |
| 特征工程 | 7/10 | 🟡 中 | 教练特征需调整 |
| 数据质量 | 9/10 | 🟢 低 | 需要预处理 |
| **总体** | **7.5/10** | **🟡 中等** | **可行但需缓解风险** |

---

### 5.2 关键风险

#### 🔴 高风险（必须解决）

1. **教练效应直接数据缺失**
   - 影响: 需求5（著名教练影响）无法按原计划完成
   - 缓解: 使用代理变量（athlete_mobility, medal_surge）
   - 责任方: data_engineer（实现代理变量）, writer（调整论文叙述）

---

#### 🟡 中风险（需要监控）

2. **观测/参数比偏低 (2.22)**
   - 影响: 模型收敛困难
   - 缓解: 调整先验强度，非中心化参数化
   - 责任方: code_translator（实现建议）, model_trainer（监控收敛）

3. **国家名不一致**
   - 影响: host_flag 特征可能错误
   - 缓解: 标准化国家名
   - 责任方: data_engineer（预处理）

---

#### 🟢 低风险（建议处理）

4. **计算时间不确定性**
   - 影响: 可能超时
   - 缓解: 使用 VB 加速迭代
   - 责任方: model_trainer（时间管理）

5. **特殊实体处理**
   - 影响: 数据噪声
   - 缓解: 删除或单独建模
   - 责任方: data_engineer（数据处理）

---

### 5.3 建议

#### 给 data_engineer (Phase 3)

1. **必须实现的特征**:
   - ✅ Section 6.1 所有核心特征
   - ✅ Section 6.2 所有项目层面特征
   - ✅ **代理变量**: athlete_mobility, medal_surge, first_medal_year

2. **必须完成的预处理**:
   - 🔴 去除国家名尾部空格
   - 🔴 标准化国家名称（medals vs hosts）
   - 🟡 处理特殊实体（建议删除 Mixed team）

3. **验证检查点**:
   - 确认所有特征无缺失值
   - 确认 host_flag 准确匹配
   - 确认代理变量计算正确

---

#### 给 code_translator (Phase 4)

1. **模型实现要求**:
   - 使用非中心化参数化
   - 调整先验: N(0,10) → N(0,3)
   - 增加 warmup: 1,000 → 1,500

2. **实现两层子模型**（解决需求4）:
   - Level 1: 国家-年份 (Y<sub>i,t</sub>)
   - Level 2: 国家-项目-年份 (Y<sub>i,s,t</sub>)

3. **时间估算更新**:
   - 更新 model_design_1.md Section 10.2
   - 改为: 乐观 3h, 期望 6h, 悲观 12h

---

#### 给 model_trainer (Phase 5)

1. **收敛监控**:
   - R-hat < 1.01（必须）
   - ESS > 400（必须）
   - 后验预测检验（必须）

2. **时间管理**:
   - 先用 VB 快速迭代
   - 最后用 HMC 精确推断
   - 预留 12-24 小时总时间

3. **失败预案**:
   - 如果不收敛: 增加迭代或简化模型
   - 如果超时: 使用 VB 结果或简化模型

---

#### 给 writer (Phase 7)

1. **教练效应叙述调整**:
   - ❌ 不再声称"直接分析教练影响"
   - ✅ 改为"分析运动员流动和奖牌激增"
   - ✅ 强调"代理变量"和"因果推断的局限性"

2. **需求5 的回答策略**:
   - 如果 Synthetic Control 成功: 报告因果效应
   - 如果 SC 失败: 报告相关性和案例研究
   - 避免过度承诺因果结论

---

## 6. 给 Director 的建议

### 6.1 是否可以进入 Phase 3？

**决策**: ✅ **可以继续进入 Phase 3**（有条件通过）

**理由**:
1. **无阻塞性问题**: 所有风险都有缓解方案
2. **教练效应有降级方案**: 代理变量完全可用
3. **计算时间充足**: 6-12 小时合理
4. **数据质量高**: 仅需轻微预处理

**条件**:
- ⚠️ data_engineer 必须实现代理变量
- ⚠️ code_translator 必须实现两层子模型
- ⚠️ model_trainer 必须监控收敛

---

### 6.2 需要先解决的问题

#### 🟡 非阻塞但必须记录

1. **教练效应降级**
   - 记录: 原计划不可行，使用代理变量
   - 影响: 需求5 的回答方式需调整

2. **计算时间不确定性**
   - 记录: 原估计 2-6h，更新为 6-12h
   - 影响: 需预留更多时间

3. **收敛风险**
   - 记录: 观测/参数比偏低
   - 影响: 需要额外调整先验和参数化

---

#### 🟢 可在后续阶段解决

4. **国家名标准化**
   - 责任: Phase 3 (data_engineer)
   - 优先级: 高

5. **特征工程调整**
   - 责任: Phase 3 (data_engineer)
   - 优先级: 高

6. **模型实现优化**
   - 责任: Phase 4 (code_translator)
   - 优先级: 中

---

### 6.3 风险缓解策略

#### 策略 1: 并行开发

- ✅ data_engineer 同时实现代理变量和核心特征
- ✅ code_translator 提前准备 Stan 模板
- ✅ model_trainer 提前准备诊断脚本

---

#### 策略 2: 阶段性验证

- **Phase 3 (DATA Gate)**:
  - 检查代理变量是否正确计算
  - 检查特征工程完整性

- **Phase 4 (CODE Gate)**:
  - 检查两层子模型实现
  - 检查先验调整

- **Phase 5 (TRAINING Gate)**:
  - 检查模型收敛性
  - 如果不收敛，触发返工

---

#### 策略 3: 备用方案

**如果教练效应完全失败**:
- 降级到纯粹的描述性分析
- 重点回答需求1-4，需求5作为"探索性分析"

**如果模型不收敛**:
- 先尝试增加迭代
- 再尝试简化模型（去除零膨胀）
- 最后使用 VB 近似

**如果时间不足**:
- 优先完成金牌模型
- 总奖牌模型可以简化或省略

---

## 附录

### A. 数据文件结构

#### summerOly_medal_counts.csv (38 KB)
```
Rank, NOC, Gold, Silver, Bronze, Total, Year
```
- 1,435 行
- 1896-2024 年

#### summerOly_hosts.csv (1.2 KB)
```
Year, Host
```
- 35 行（包含 Cancelled 年份）

#### summerOly_athletes.csv (23 MB)
```
Name, Sex, Team, NOC, Year, Season, City, Sport, Event, Medal
```
- 252,565 行
- 129,992 唯一运动员

#### summerOly_programs.csv (7.4 KB)
```
Sport, Discipline, Code, Sports Governing Body, 1896, 1900, ..., 2024
```
- 76 个项目
- 包含历史项目

---

### B. 计算细节

#### 参数数量推导

```
固定效应 (β):
  intercept + host + events + year + gold_lag1 + gold_lag2 + total_lag1
  = 1 + 1 + 1 + 1 + 1 + 1 + 1 = 7

零膨胀参数 (γ):
  intercept + past_success + host
  = 1 + 1 + 1 = 3

随机效应:
  u0_i (国家随机截距) = 210
  v1_i (国家随机斜率) = 210
  w_i (零膨胀随机效应) = 210
  = 630

超参数 (σ):
  σ_u + σ_v + σ_w = 3

离散度参数 (θ):
  θ_gold + θ_total = 2

总计: 7 + 3 + 630 + 3 + 2 = 645
```

---

#### 时间估算推导

```
基础公式:
  Time = N_obs × N_iterations × time_per_iter_obs / 3600

假设:
  N_obs = 1,435
  N_iterations = 8,000 (4 chains × 2,000 iter)
  time_per_iter_obs = 0.001 秒（零膨胀模型保守估计）

基础时间:
  = 1,435 × 8,000 × 0.001 / 3600
  = 3.2 小时

总时间（包含开销）:
  = 3.2 × 1.5 (debug) × 1.2 (comparison) × 1.1 (prediction)
  = 6.3 小时
```

---

### C. 教练效应代理变量详细定义

#### C.1 athlete_mobility (运动员跨国流动)

**定义**:
```
athlete_mobility_{i,t} = (代表过多国的运动员数) / (该国总运动员数)
```

**计算方法**:
```python
# 1. 识别代表过多国的运动员
mobile_athletes = athletes.groupby('Name')['NOC'].nunique()
mobile_athletes = mobile_athletes[mobile_athletes > 1]

# 2. 计算各国的流动运动员比例
for country in countries:
    country_athletes = athletes[athletes['NOC'] == country]
    mobile_count = len(set(country_athletes['Name']) & set(mobile_athletes.index))
    athlete_mobility = mobile_count / len(country_athletes)
```

**作为教练效应代理的理由**:
- 著名教练通常带来运动员流动
- 运动员跨国流动反映技术和知识的传播
- 可以捕捉"人才流失"或"人才引进"效应

---

#### C.2 medal_surge (奖牌突然激增)

**定义**:
```
medal_surge_{i,t} = 1 if Gold_{i,t} - Gold_{i,t-4} >= 5 else 0
```

**计算方法**:
```python
medals_sorted = medals.sort_values(['NOC', 'Year'])
medals_sorted['Gold_lag1'] = medals_sorted.groupby('NOC')['Gold'].shift(1)
medals_sorted['Gold_change'] = medals_sorted['Gold'] - medals_sorted['Gold_lag1']
medals_sorted['medal_surge'] = (medals_sorted['Gold_change'] >= 5).astype(int)
```

**作为教练效应代理的理由**:
- 著名教练的到来通常带来奖牌激增
- 激增事件反映了结构性变化
- 可以用于 Synthetic Control 的"处理事件"

**验证**:
- China 1992-2008: 持续激增（符合历史）
- Australia 2000: 主办国 + 激增
- Brazil 2004: 首次突破

---

#### C.3 first_medal_year (首次获奖年份)

**定义**:
```
first_medal_year_i = min{t | Gold_{i,t} > 0}
```

**计算方法**:
```python
first_medal = medals[medals['Gold'] > 0].groupby('NOC')['Year'].min()
```

**作为教练效应代理的理由**:
- 首次获奖通常伴随技术引进（包括教练）
- 可以识别"突破性时刻"
- 可以分析"突破后"的持续效应

---

### D. MODEL Gate 风险点验证总结

| MODEL Gate 风险点 | 验证结果 | 严重程度 | 缓解方案 |
|-----------------|---------|---------|---------|
| 教练效应数据不可用 | ✅ 确认 | 🔴 高 | 使用代理变量 |
| 计算时间低估 | ✅ 确认 | 🟡 中 | 更新为 6-12h |
| 观测/参数比低 (2.2) | ✅ 确认 | 🟡 中 | 调整先验强度 |
| 特征工程难度 | ⚠️ 部分确认 | 🟢 低 | 仅教练特征需调整 |
| 收敛风险 | ✅ 确认 | 🟡 中 | 非中心化参数化 |

---

**报告完成时间**: 2026-01-06T02:00:00Z
**Agent**: feasibility_checker (v2)
**状态**: ✅ SUCCESS - 可以继续 Phase 3

**建议**: 立即调用 @data_engineer 开始 Phase 3，强调实现代理变量。
